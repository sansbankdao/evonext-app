{
  "$schema": "https://schema.dash.org/dpp-0-4-0/meta/data-contract",
  "version": 1,
  "ownerId": "5DbLwAxGBzUzo81VewMUwn4b5P4bpv9FNFybi25XB5Bk",
  "documents": {
    "profile": {
      "type": "object",
      "description": "User profile information",
      "indices": [
        {
          "name": "owner",
          "properties": [
            {
              "$ownerId": "asc"
            }
          ],
          "unique": true
        },
        {
          "name": "createdAt",
          "properties": [
            {
              "$createdAt": "asc"
            }
          ]
        }
      ],
      "properties": {
        "displayName": {
          "type": "string",
          "description": "Display name shown on profile",
          "minLength": 1,
          "maxLength": 50,
          "position": 0
        },
        "bio": {
          "type": "string",
          "description": "User biography",
          "maxLength": 160,
          "position": 1
        },
        "avatarId": {
          "type": "array",
          "byteArray": true,
          "minItems": 32,
          "maxItems": 32,
          "contentMediaType": "application/x.dash.dpp.identifier",
          "description": "Reference to the user's avatar document",
          "position": 2
        },
        "bannerUrl": {
          "type": "string",
          "description": "URL to profile banner image",
          "maxLength": 512,
          "pattern": "^https?://.+$",
          "position": 3
        },
        "website": {
          "type": "string",
          "description": "User's website",
          "maxLength": 100,
          "pattern": "^https?://.+$",
          "position": 4
        },
        "location": {
          "type": "string",
          "description": "User location",
          "maxLength": 50,
          "position": 5
        }
      },
      "required": [
        "displayName"
      ],
      "additionalProperties": false
    },
    "avatar": {
      "type": "object",
      "description": "User avatar customization data",
      "indices": [
        {
          "name": "owner",
          "properties": [
            {
              "$ownerId": "asc"
            }
          ],
          "unique": true
        },
        {
          "name": "updatedAt",
          "properties": [
            {
              "$updatedAt": "desc"
            }
          ]
        }
      ],
      "properties": {
        "version": {
          "type": "integer",
          "description": "Avatar format version",
          "minimum": 1,
          "maximum": 10,
          "default": 2,
          "position": 0
        },
        "data": {
          "type": "string",
          "description": "Encoded avatar feature data",
          "minLength": 16,
          "maxLength": 128,
          "position": 1
        },
        "style": {
          "type": "string",
          "enum": [
            "realistic",
            "cartoon",
            "anime",
            "pixel"
          ],
          "description": "Rendering style for the avatar",
          "default": "realistic",
          "position": 2
        }
      },
      "required": [
        "version",
        "data"
      ],
      "additionalProperties": false
    },
    "post": {
      "type": "object",
      "description": "A post/tweet in the social network",
      "indices": [
        {
          "name": "authorAndTime",
          "properties": [
            {
              "authorId": "asc"
            },
            {
              "$createdAt": "desc"
            }
          ]
        },
        {
          "name": "timeline",
          "properties": [
            {
              "$createdAt": "desc"
            }
          ]
        },
        {
          "name": "replyToPost",
          "properties": [
            {
              "replyToPostId": "asc"
            },
            {
              "$createdAt": "desc"
            }
          ]
        }
      ],
      "properties": {
        "authorId": {
          "type": "array",
          "byteArray": true,
          "minItems": 32,
          "maxItems": 32,
          "contentMediaType": "application/x.dash.dpp.identifier",
          "description": "Identity ID of the post author",
          "position": 0
        },
        "content": {
          "type": "string",
          "description": "Post content",
          "minLength": 1,
          "maxLength": 500,
          "position": 1
        },
        "media": {
          "type": "array",
          "description": "Media attachments",
          "items": {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "enum": [
                  "image",
                  "video",
                  "gif"
                ],
                "description": "Type of media",
                "position": 0
              },
              "url": {
                "type": "string",
                "description": "URL to media file",
                "maxLength": 512,
                "pattern": "^https?://.+$",
                "position": 1
              },
              "thumbnailUrl": {
                "type": "string",
                "description": "URL to thumbnail",
                "maxLength": 512,
                "pattern": "^https?://.+$",
                "position": 2
              },
              "alt": {
                "type": "string",
                "description": "Alt text for accessibility",
                "maxLength": 200,
                "position": 3
              }
            },
            "required": [
              "type",
              "url"
            ],
            "additionalProperties": false
          },
          "maxItems": 4,
          "position": 2
        },
        "replyToPostId": {
          "type": "array",
          "byteArray": true,
          "minItems": 32,
          "maxItems": 32,
          "contentMediaType": "application/x.dash.dpp.identifier",
          "description": "ID of post this is replying to",
          "position": 3
        },
        "quotedPostId": {
          "type": "array",
          "byteArray": true,
          "minItems": 32,
          "maxItems": 32,
          "contentMediaType": "application/x.dash.dpp.identifier",
          "description": "ID of quoted post",
          "position": 4
        },
        "mentions": {
          "type": "array",
          "description": "Mentioned user IDs",
          "items": {
            "type": "array",
            "byteArray": true,
            "minItems": 32,
            "maxItems": 32,
            "contentMediaType": "application/x.dash.dpp.identifier"
          },
          "maxItems": 10,
          "position": 5
        },
        "hashtags": {
          "type": "array",
          "description": "Hashtags in the post",
          "items": {
            "type": "string",
            "pattern": "^[a-zA-Z0-9_]{1,100}$",
            "maxLength": 100
          },
          "maxItems": 10,
          "position": 6
        },
        "language": {
          "type": "string",
          "description": "Language code of the post",
          "pattern": "^[a-z]{2}$",
          "default": "en",
          "position": 7
        },
        "sensitive": {
          "type": "boolean",
          "description": "Whether post contains sensitive content",
          "default": false,
          "position": 8
        }
      },
      "required": [
        "authorId",
        "content"
      ],
      "additionalProperties": false
    },
    "like": {
      "type": "object",
      "description": "A like on a post",
      "indices": [
        {
          "name": "postAndUser",
          "properties": [
            {
              "postId": "asc"
            },
            {
              "userId": "asc"
            }
          ],
          "unique": true
        },
        {
          "name": "userLikes",
          "properties": [
            {
              "userId": "asc"
            },
            {
              "$createdAt": "desc"
            }
          ]
        },
        {
          "name": "postLikes",
          "properties": [
            {
              "postId": "asc"
            },
            {
              "$createdAt": "desc"
            }
          ]
        }
      ],
      "properties": {
        "userId": {
          "type": "array",
          "byteArray": true,
          "minItems": 32,
          "maxItems": 32,
          "contentMediaType": "application/x.dash.dpp.identifier",
          "description": "Identity ID of the user who liked",
          "position": 0
        },
        "postId": {
          "type": "array",
          "byteArray": true,
          "minItems": 32,
          "maxItems": 32,
          "contentMediaType": "application/x.dash.dpp.identifier",
          "description": "ID of the liked post",
          "position": 1
        }
      },
      "required": [
        "userId",
        "postId"
      ],
      "additionalProperties": false
    },
    "repost": {
      "type": "object",
      "description": "A repost/retweet of a post",
      "indices": [
        {
          "name": "postAndUser",
          "properties": [
            {
              "postId": "asc"
            },
            {
              "userId": "asc"
            }
          ],
          "unique": true
        },
        {
          "name": "userReposts",
          "properties": [
            {
              "userId": "asc"
            },
            {
              "$createdAt": "desc"
            }
          ]
        },
        {
          "name": "postReposts",
          "properties": [
            {
              "postId": "asc"
            },
            {
              "$createdAt": "desc"
            }
          ]
        }
      ],
      "properties": {
        "userId": {
          "type": "array",
          "byteArray": true,
          "minItems": 32,
          "maxItems": 32,
          "contentMediaType": "application/x.dash.dpp.identifier",
          "description": "Identity ID of the user who reposted",
          "position": 0
        },
        "postId": {
          "type": "array",
          "byteArray": true,
          "minItems": 32,
          "maxItems": 32,
          "contentMediaType": "application/x.dash.dpp.identifier",
          "description": "ID of the reposted post",
          "position": 1
        }
      },
      "required": [
        "userId",
        "postId"
      ],
      "additionalProperties": false
    },
    "follow": {
      "type": "object",
      "description": "A follow relationship between users",
      "indices": [
        {
          "name": "followerAndFollowing",
          "properties": [
            {
              "followerId": "asc"
            },
            {
              "followingId": "asc"
            }
          ],
          "unique": true
        },
        {
          "name": "following",
          "properties": [
            {
              "followerId": "asc"
            },
            {
              "$createdAt": "desc"
            }
          ]
        },
        {
          "name": "followers",
          "properties": [
            {
              "followingId": "asc"
            },
            {
              "$createdAt": "desc"
            }
          ]
        }
      ],
      "properties": {
        "followerId": {
          "type": "array",
          "byteArray": true,
          "minItems": 32,
          "maxItems": 32,
          "contentMediaType": "application/x.dash.dpp.identifier",
          "description": "Identity ID of the follower",
          "position": 0
        },
        "followingId": {
          "type": "array",
          "byteArray": true,
          "minItems": 32,
          "maxItems": 32,
          "contentMediaType": "application/x.dash.dpp.identifier",
          "description": "Identity ID of the user being followed",
          "position": 1
        }
      },
      "required": [
        "followerId",
        "followingId"
      ],
      "additionalProperties": false
    },
    "bookmark": {
      "type": "object",
      "description": "A bookmarked post",
      "indices": [
        {
          "name": "userAndPost",
          "properties": [
            {
              "userId": "asc"
            },
            {
              "postId": "asc"
            }
          ],
          "unique": true
        },
        {
          "name": "userBookmarks",
          "properties": [
            {
              "userId": "asc"
            },
            {
              "$createdAt": "desc"
            }
          ]
        }
      ],
      "properties": {
        "userId": {
          "type": "array",
          "byteArray": true,
          "minItems": 32,
          "maxItems": 32,
          "contentMediaType": "application/x.dash.dpp.identifier",
          "description": "Identity ID of the user",
          "position": 0
        },
        "postId": {
          "type": "array",
          "byteArray": true,
          "minItems": 32,
          "maxItems": 32,
          "contentMediaType": "application/x.dash.dpp.identifier",
          "description": "ID of the bookmarked post",
          "position": 1
        }
      },
      "required": [
        "userId",
        "postId"
      ],
      "additionalProperties": false
    },
    "list": {
      "type": "object",
      "description": "A user-created list",
      "indices": [
        {
          "name": "ownerLists",
          "properties": [
            {
              "ownerId": "asc"
            },
            {
              "$createdAt": "desc"
            }
          ]
        }
      ],
      "properties": {
        "ownerId": {
          "type": "array",
          "byteArray": true,
          "minItems": 32,
          "maxItems": 32,
          "contentMediaType": "application/x.dash.dpp.identifier",
          "description": "Identity ID of the list owner",
          "position": 0
        },
        "name": {
          "type": "string",
          "description": "Name of the list",
          "minLength": 1,
          "maxLength": 50,
          "position": 1
        },
        "description": {
          "type": "string",
          "description": "Description of the list",
          "maxLength": 160,
          "position": 2
        },
        "private": {
          "type": "boolean",
          "description": "Whether the list is private",
          "default": false,
          "position": 3
        }
      },
      "required": [
        "ownerId",
        "name"
      ],
      "additionalProperties": false
    },
    "listMember": {
      "type": "object",
      "description": "A member of a list",
      "indices": [
        {
          "name": "listAndMember",
          "properties": [
            {
              "listId": "asc"
            },
            {
              "memberId": "asc"
            }
          ],
          "unique": true
        },
        {
          "name": "listMembers",
          "properties": [
            {
              "listId": "asc"
            },
            {
              "$createdAt": "desc"
            }
          ]
        }
      ],
      "properties": {
        "listId": {
          "type": "array",
          "byteArray": true,
          "minItems": 32,
          "maxItems": 32,
          "contentMediaType": "application/x.dash.dpp.identifier",
          "description": "ID of the list",
          "position": 0
        },
        "memberId": {
          "type": "array",
          "byteArray": true,
          "minItems": 32,
          "maxItems": 32,
          "contentMediaType": "application/x.dash.dpp.identifier",
          "description": "Identity ID of the list member",
          "position": 1
        }
      },
      "required": [
        "listId",
        "memberId"
      ],
      "additionalProperties": false
    },
    "block": {
      "type": "object",
      "description": "A block relationship",
      "indices": [
        {
          "name": "blockerAndBlocked",
          "properties": [
            {
              "blockerId": "asc"
            },
            {
              "blockedId": "asc"
            }
          ],
          "unique": true
        },
        {
          "name": "blockerBlocks",
          "properties": [
            {
              "blockerId": "asc"
            },
            {
              "$createdAt": "desc"
            }
          ]
        }
      ],
      "properties": {
        "blockerId": {
          "type": "array",
          "byteArray": true,
          "minItems": 32,
          "maxItems": 32,
          "contentMediaType": "application/x.dash.dpp.identifier",
          "description": "Identity ID of the blocker",
          "position": 0
        },
        "blockedId": {
          "type": "array",
          "byteArray": true,
          "minItems": 32,
          "maxItems": 32,
          "contentMediaType": "application/x.dash.dpp.identifier",
          "description": "Identity ID of the blocked user",
          "position": 1
        }
      },
      "required": [
        "blockerId",
        "blockedId"
      ],
      "additionalProperties": false
    },
    "mute": {
      "type": "object",
      "description": "A mute relationship",
      "indices": [
        {
          "name": "muterAndMuted",
          "properties": [
            {
              "muterId": "asc"
            },
            {
              "mutedId": "asc"
            }
          ],
          "unique": true
        },
        {
          "name": "muterMutes",
          "properties": [
            {
              "muterId": "asc"
            },
            {
              "$createdAt": "desc"
            }
          ]
        }
      ],
      "properties": {
        "muterId": {
          "type": "array",
          "byteArray": true,
          "minItems": 32,
          "maxItems": 32,
          "contentMediaType": "application/x.dash.dpp.identifier",
          "description": "Identity ID of the muter",
          "position": 0
        },
        "mutedId": {
          "type": "array",
          "byteArray": true,
          "minItems": 32,
          "maxItems": 32,
          "contentMediaType": "application/x.dash.dpp.identifier",
          "description": "Identity ID of the muted user",
          "position": 1
        },
        "untilTimestamp": {
          "type": "integer",
          "description": "Unix timestamp when mute expires (optional)",
          "minimum": 0,
          "position": 2
        }
      },
      "required": [
        "muterId",
        "mutedId"
      ],
      "additionalProperties": false
    },
    "directMessage": {
      "type": "object",
      "description": "A direct message between users",
      "indices": [
        {
          "name": "conversation",
          "properties": [
            {
              "conversationId": "asc"
            },
            {
              "$createdAt": "desc"
            }
          ]
        },
        {
          "name": "senderMessages",
          "properties": [
            {
              "senderId": "asc"
            },
            {
              "$createdAt": "desc"
            }
          ]
        }
      ],
      "properties": {
        "senderId": {
          "type": "array",
          "byteArray": true,
          "minItems": 32,
          "maxItems": 32,
          "contentMediaType": "application/x.dash.dpp.identifier",
          "description": "Identity ID of the sender",
          "position": 0
        },
        "recipientId": {
          "type": "array",
          "byteArray": true,
          "minItems": 32,
          "maxItems": 32,
          "contentMediaType": "application/x.dash.dpp.identifier",
          "description": "Identity ID of the recipient",
          "position": 1
        },
        "conversationId": {
          "type": "array",
          "byteArray": true,
          "minItems": 32,
          "maxItems": 32,
          "contentMediaType": "application/x.dash.dpp.identifier",
          "description": "Unique conversation ID",
          "position": 2
        },
        "encryptedContent": {
          "type": "string",
          "description": "Encrypted message content",
          "maxLength": 2048,
          "position": 3
        },
        "read": {
          "type": "boolean",
          "description": "Whether the message has been read",
          "default": false,
          "position": 4
        }
      },
      "required": [
        "senderId",
        "recipientId",
        "conversationId",
        "encryptedContent"
      ],
      "additionalProperties": false
    },
    "notification": {
      "type": "object",
      "description": "A notification for a user",
      "indices": [
        {
          "name": "userNotifications",
          "properties": [
            {
              "userId": "asc"
            },
            {
              "$createdAt": "desc"
            }
          ]
        },
        {
          "name": "unreadNotifications",
          "properties": [
            {
              "userId": "asc"
            },
            {
              "read": "asc"
            },
            {
              "$createdAt": "desc"
            }
          ]
        }
      ],
      "properties": {
        "userId": {
          "type": "array",
          "byteArray": true,
          "minItems": 32,
          "maxItems": 32,
          "contentMediaType": "application/x.dash.dpp.identifier",
          "description": "Identity ID of the notification recipient",
          "position": 0
        },
        "type": {
          "type": "string",
          "enum": [
            "like",
            "repost",
            "follow",
            "reply",
            "mention",
            "quote"
          ],
          "description": "Type of notification",
          "position": 1
        },
        "fromUserId": {
          "type": "array",
          "byteArray": true,
          "minItems": 32,
          "maxItems": 32,
          "contentMediaType": "application/x.dash.dpp.identifier",
          "description": "Identity ID of the user who triggered the notification",
          "position": 2
        },
        "postId": {
          "type": "array",
          "byteArray": true,
          "minItems": 32,
          "maxItems": 32,
          "contentMediaType": "application/x.dash.dpp.identifier",
          "description": "Related post ID (if applicable)",
          "position": 3
        },
        "read": {
          "type": "boolean",
          "description": "Whether the notification has been read",
          "default": false,
          "position": 4
        }
      },
      "required": [
        "userId",
        "type",
        "fromUserId"
      ],
      "additionalProperties": false
    }
  }
}